# Copyright 2020 Peter Dimov
# Distributed under the Boost Software License, Version 1.0.
# https://www.boost.org/LICENSE_1_0.txt

import testing ;

project : requirements
  <warnings>extra
  <toolset>msvc:<warnings-as-errors>on
  <toolset>clang:<warnings-as-errors>on
  <toolset>gcc:<warnings-as-errors>on ;

run quick.cpp ;

run pp_for_each_test.cpp ;

run enumerators_test.cpp ;
run base_classes_test.cpp ;
run data_members_test.cpp ;
run data_members_test2.cpp ;
run member_functions_test.cpp ;

local NW = <toolset>msvc-14.0:<cxxflags>"-wd4100" ;

run ../example/printing_enums_ct.cpp : : : $(NW) ;
run ../example/printing_enums_rt.cpp ;
run ../example/enum_to_string.cpp : : : $(NW) ;
run ../example/string_to_enum.cpp : : : $(NW) ;
run ../example/print_function.cpp : : : $(NW) ;
# run ../example/to_json.cpp /boost//json /boost//container : : : $(NW) ;
# run ../example/from_json.cpp /boost//json : : : <toolset>msvc-14.0:<build>no ;
